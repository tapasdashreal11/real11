{"version":3,"sources":["jquery.justifiedGallery.min.js"],"names":["_typeof","Symbol","iterator","obj","constructor","prototype","e","define","amd","module","exports","t","i","window","require","jQuery","g","height","r","this","settings","checkSettings","imgAnalyzerTimeout","entries","buildingRow","entriesBuff","width","aspectRatio","lastFetchedEntry","lastAnalyzedIndex","every","flushed","border","margins","maxRowHeight","retrieveMaxRowHeight","suffixRanges","retrieveSuffixRanges","offY","rows","spinner","phase","timeSlot","$el","intervalId","scrollBarOn","checkWidthIntervalId","galleryWidth","$gallery","getSuffix","s","length","sizeRangeSuffixes","removeSuffix","substring","endsWith","indexOf","getUsedSuffix","hasOwnProperty","newSrc","n","thumbnailPath","match","extension","o","replace","showImg","cssAnimation","addClass","stop","fadeTo","imagesAnimationDuration","find","imgSelector","extractImgSrcFromImage","data","attr","imgFromEntry","captionFromEntry","displayEntry","css","a","h","one","l","onImageEvent","proxy","displayEntryCaption","captions","isValidCaption","append","captionSettings","nonVisibleOpacity","addCaptionEventsHandlers","removeCaptionEventsHandlers","onEntryMouseEnterForCaption","currentTarget","removeClass","animationDuration","visibleOpacity","onEntryMouseLeaveForCaption","mouseenter","mouseleave","on","off","removeData","clearBuildingRow","prepareBuildingRow","rowHeight","u","justifyThreshold","lastRow","Math","round","ceil","flushRow","rtl","galleryHeightToSet","setGalleryTempHeight","getSpinnerHeight","triggerEvent","call","rememberGalleryHeight","max","setGalleryFinalHeight","checkWidth","setInterval","is","parseFloat","abs","refreshSensitivity","rewind","startImgAnalyzer","refreshTime","isSpinnerActive","innerHeight","stopLoadingSpinnerAnimation","clearInterval","detach","startLoadingSpinnerAnimation","eq","updateEntries","nextAll","selector","toArray","children","isFunction","sort","sortArray","randomize","shuffleArray","filter","filterArray","resetFilters","concat","insertToGallery","each","appendTo","floor","random","type","destroy","remove","analyzeImages","push","stopImgAnalyzerStarter","clearTimeout","setTimeout","Image","src","init","rel","target","waitThumbnailsLoad","prop","isNaN","checkOrConvertNumber","checkSizeRangesSuffixes","0","parseInt","join","updateSettings","extend","defaults","trigger","fn","justifiedGallery"],"mappings":"AAAA,YAEA,IAAIA,SAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUC,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXF,SAAyBE,EAAIC,cAAgBH,QAAUE,IAAQF,OAAOI,UAAY,eAAkBF;;;;;;CAKrQ,SAASG,GAAG,kBAAmBC,SAAQA,OAAOC,IAAID,QAAQ,UAAUD,GAAG,WAAA,mBAAiBG,QAAjB,YAAAT,QAAiBS,UAAQA,OAAOC,QAAQD,OAAOC,QAAQ,SAASC,EAAEC,GAAG,MAAO,UAASA,IAAIA,EAAE,mBAAoBC,QAAOC,QAAQ,UAAUA,QAAQ,UAAUH,IAAIL,EAAEM,GAAGA,GAAGN,EAAES,SAAS,SAASC,GAA+yN,QAASV,KAAI,MAAOU,GAAE,QAAQC,SAASD,EAAEH,QAAQI,SAA71N,GAAIC,GAAE,SAASP,EAAEC,GAAGO,KAAKC,SAASR,EAAEO,KAAKE,gBAAgBF,KAAKG,mBAAmB,KAAKH,KAAKI,QAAQ,KAAKJ,KAAKK,aAAaC,eAAeC,MAAM,EAAET,OAAO,EAAEU,YAAY,GAAGR,KAAKS,iBAAiB,KAAKT,KAAKU,qBAAqBV,KAAAA,UAAYW,MAAM,EAAEC,QAAQ,GAAGZ,KAAKa,OAAO,GAAGpB,EAAEoB,OAAOpB,EAAEoB,OAAOpB,EAAEqB,QAAQd,KAAKe,aAAaf,KAAKgB,uBAAuBhB,KAAKiB,aAAajB,KAAKkB,uBAAuBlB,KAAKmB,KAAKnB,KAAKa,OAAOb,KAAKoB,KAAK,EAAEpB,KAAKqB,SAASC,MAAM,EAAEC,SAAS,IAAIC,IAAI3B,EAAE,sEAAsE4B,WAAW,MAAMzB,KAAK0B,aAAY,EAAG1B,KAAK2B,qBAAqB,KAAK3B,KAAK4B,aAAapC,EAAEe,QAAQP,KAAK6B,SAASrC,EAAGO,GAAEb,UAAU4C,UAAU,SAAStC,EAAEC,GAAG,GAAIN,GAAE4C,CAAE,KAAI5C,EAAEM,EAAED,EAAEA,EAAEC,EAAEsC,EAAE,EAAEA,EAAE/B,KAAKiB,aAAae,OAAOD,IAAI,GAAG5C,GAAGa,KAAKiB,aAAac,GAAG,MAAO/B,MAAKC,SAASgC,kBAAkBjC,KAAKiB,aAAac,GAAI,OAAO/B,MAAKC,SAASgC,kBAAkBjC,KAAKiB,aAAac,EAAE,KAAKhC,EAAEb,UAAUgD,aAAa,SAAS1C,EAAEC,GAAG,MAAOD,GAAE2C,UAAU,EAAE3C,EAAEwC,OAAOvC,EAAEuC,SAASjC,EAAEb,UAAUkD,SAAS,SAAS5C,EAAEC,GAAG,WAAWD,EAAE6C,QAAQ5C,EAAED,EAAEwC,OAAOvC,EAAEuC,SAASjC,EAAEb,UAAUoD,cAAc,SAAS9C,GAAG,IAAI,GAAIC,KAAKO,MAAKC,SAASgC,kBAAkB,GAAGjC,KAAKC,SAASgC,kBAAkBM,eAAe9C,GAAG,CAAC,GAAG,IAAIO,KAAKC,SAASgC,kBAAkBxC,GAAGuC,OAAO,QAAS,IAAGhC,KAAKoC,SAAS5C,EAAEQ,KAAKC,SAASgC,kBAAkBxC,IAAI,MAAOO,MAAKC,SAASgC,kBAAkBxC,GAAG,MAAM,IAAIM,EAAEb,UAAUsD,OAAO,SAAShD,EAAEC,EAAEN,EAAE4C,GAAG,GAAIU,EAAE,IAAGzC,KAAKC,SAASyC,cAAcD,EAAEzC,KAAKC,SAASyC,cAAclD,EAAEC,EAAEN,EAAE4C,OAAO,CAAC,GAAIhC,GAAEP,EAAEmD,MAAM3C,KAAKC,SAAS2C,WAAWC,EAAE,OAAO9C,EAAEA,EAAE,GAAG,EAAG0C,GAAEjD,EAAEsD,QAAQ9C,KAAKC,SAAS2C,UAAU,IAAIH,EAAEzC,KAAKkC,aAAaO,EAAEzC,KAAKsC,cAAcG,IAAIA,GAAGzC,KAAK8B,UAAUrC,EAAEN,GAAG0D,EAAE,MAAOJ,IAAG1C,EAAEb,UAAU6D,QAAQ,SAASvD,EAAEC,GAAGO,KAAKC,SAAS+C,cAAcxD,EAAEyD,SAAS,iBAAiBxD,GAAGA,MAAMD,EAAE0D,OAAOC,OAAOnD,KAAKC,SAASmD,wBAAwB,EAAE3D,GAAGD,EAAE6D,KAAKrD,KAAKC,SAASqD,aAAaJ,OAAOC,OAAOnD,KAAKC,SAASmD,wBAAwB,EAAE3D,KAAKM,EAAEb,UAAUqE,uBAAuB,SAAS/D,GAAG,GAAIC,GAAE,SAASD,EAAEgE,KAAK,YAAYhE,EAAEgE,KAAK,YAAYhE,EAAEiE,KAAK,MAAO,OAAOjE,GAAEgE,KAAK,iBAAiB/D,GAAGA,GAAGM,EAAEb,UAAUwE,aAAa,SAASlE,GAAG,GAAIC,GAAED,EAAE6D,KAAKrD,KAAKC,SAASqD,YAAa,OAAO,KAAI7D,EAAEuC,OAAO,KAAKvC,GAAGM,EAAEb,UAAUyE,iBAAiB,SAASnE,GAAG,GAAIC,GAAED,EAAE6D,KAAK,aAAc,OAAO,KAAI5D,EAAEuC,OAAO,KAAKvC,GAAGM,EAAEb,UAAU0E,aAAa,SAASpE,EAAEC,EAAEN,EAAE4C,EAAEU,EAAE1C,GAAGP,EAAEe,MAAMwB,GAAGvC,EAAEM,OAAOC,GAAGP,EAAEqE,IAAI,MAAM1E,GAAGK,EAAEqE,IAAI,OAAOpE,EAAG,IAAIoD,GAAE7C,KAAK0D,aAAalE,EAAG,IAAG,OAAOqD,EAAE,CAACA,EAAEgB,IAAI,QAAQ9B,GAAGc,EAAEgB,IAAI,SAASpB,GAAGI,EAAEgB,IAAI,eAAe9B,EAAE,GAAGc,EAAEgB,IAAI,cAAcpB,EAAE,EAAG,IAAIqB,GAAEjB,EAAEY,KAAK,OAAOM,EAAE/D,KAAKwC,OAAOsB,EAAE/B,EAAEU,EAAEI,EAAE,GAAIA,GAAEmB,IAAI,QAAQ,WAAWnB,EAAEY,KAAK,MAAMZ,EAAEW,KAAK,oBAAqB,IAAIS,GAAE,WAAWH,IAAIC,GAAGlB,EAAEY,KAAK,MAAMM,GAAI,aAAYvE,EAAEgE,KAAK,aAAaxD,KAAKkE,aAAaJ,EAAEjE,EAAEsE,MAAM,WAAWnE,KAAK+C,QAAQvD,EAAEyE,GAAGzE,EAAEgE,KAAK,aAAY,IAAKxD,OAAOA,KAAK+C,QAAQvD,EAAEyE,OAAQjE,MAAK+C,QAAQvD,EAAGQ,MAAKoE,oBAAoB5E,IAAIO,EAAEb,UAAUkF,oBAAoB,SAAS5E,GAAG,GAAIC,GAAEO,KAAK0D,aAAalE,EAAG,IAAG,OAAOC,GAAGO,KAAKC,SAASoE,SAAS,CAAC,GAAIlF,GAAEa,KAAK2D,iBAAiBnE,EAAG,IAAG,OAAOL,EAAE,CAAC,GAAI4C,GAAEtC,EAAEgE,KAAK,MAAOzD,MAAKsE,eAAevC,KAAKA,EAAEvC,EAAEiE,KAAK,UAAUzD,KAAKsE,eAAevC,KAAK5C,EAAEU,EAAE,wBAAwBkC,EAAE,UAAUvC,EAAE+E,OAAOpF,GAAGK,EAAEgE,KAAK,qBAAoB,IAAK,OAAOrE,IAAIa,KAAKC,SAAS+C,cAAc7D,EAAE+D,OAAOC,OAAO,EAAEnD,KAAKC,SAASuE,gBAAgBC,mBAAmBzE,KAAK0E,yBAAyBlF,QAASQ,MAAK2E,4BAA4BnF,IAAIO,EAAEb,UAAUoF,eAAe,SAAS9E,GAAG,MAAO,UAASA,GAAG,EAAEA,EAAEwC,QAAQjC,EAAEb,UAAU0F,4BAA4B,SAASpF,GAAG,GAAIC,GAAEO,KAAK2D,iBAAiB9D,EAAEL,EAAEqF,eAAgB7E,MAAKC,SAAS+C,aAAavD,EAAEwD,SAAS,mBAAmB6B,YAAY,kBAAkBrF,EAAEyD,OAAOC,OAAOnD,KAAKC,SAASuE,gBAAgBO,kBAAkB/E,KAAKC,SAASuE,gBAAgBQ,iBAAiBjF,EAAEb,UAAU+F,4BAA4B,SAASzF,GAAG,GAAIC,GAAEO,KAAK2D,iBAAiB9D,EAAEL,EAAEqF,eAAgB7E,MAAKC,SAAS+C,aAAavD,EAAEqF,YAAY,mBAAmBA,YAAY,kBAAkBrF,EAAEyD,OAAOC,OAAOnD,KAAKC,SAASuE,gBAAgBO,kBAAkB/E,KAAKC,SAASuE,gBAAgBC,oBAAoB1E,EAAEb,UAAUwF,yBAAyB,SAASlF,GAAG,GAAIC,GAAED,EAAEgE,KAAK,wBAAyB,UAAS/D,IAAIA,GAAGyF,WAAWrF,EAAEsE,MAAMnE,KAAK4E,4BAA4B5E,MAAMmF,WAAWtF,EAAEsE,MAAMnE,KAAKiF,4BAA4BjF,OAAOR,EAAE4F,GAAG,aAAa,OAAO,OAAO3F,EAAEyF,YAAY1F,EAAE4F,GAAG,aAAa,OAAO,OAAO3F,EAAE0F,YAAY3F,EAAEgE,KAAK,wBAAwB/D,KAAKM,EAAEb,UAAUyF,4BAA4B,SAASnF,GAAG,GAAIC,GAAED,EAAEgE,KAAK,wBAAyB,UAAS/D,IAAID,EAAE6F,IAAI,aAAa,OAAO5F,EAAEyF,YAAY1F,EAAE6F,IAAI,aAAa,OAAO5F,EAAE0F,YAAY3F,EAAE8F,WAAW,2BAA2BvF,EAAEb,UAAUqG,iBAAiB,WAAWvF,KAAKK,YAAYC,eAAeN,KAAKK,YAAYG,YAAY,EAAER,KAAKK,YAAYE,MAAM,GAAGR,EAAEb,UAAUsG,mBAAmB,SAAShG,GAAG,GAAIC,GAAEN,EAAE4C,EAAEU,EAAE1C,EAAE8C,GAAE,EAAGiB,EAAE,EAAEC,EAAE/D,KAAK4B,aAAa,EAAE5B,KAAKa,QAAQb,KAAKK,YAAYC,YAAY0B,OAAO,GAAGhC,KAAKC,SAASa,QAAQmD,EAAEF,EAAE/D,KAAKK,YAAYG,YAAYX,EAAEG,KAAKC,SAASwF,UAAUC,EAAE1F,KAAKK,YAAYE,MAAMwD,EAAE/D,KAAKC,SAAS0F,gBAAiB,IAAGnG,GAAG,SAASQ,KAAKC,SAAS2F,UAAUF,EAAE,CAAC,IAAIjG,EAAE,EAAEA,EAAEO,KAAKK,YAAYC,YAAY0B,OAAOvC,IAAIN,EAAEa,KAAKK,YAAYC,YAAYb,GAAGO,KAAKC,SAAS+C,aAAa7D,EAAE2F,YAAY,kBAAkB3F,EAAE+D,OAAOC,OAAO,EAAE,IAAIhE,EAAEkE,KAAK,oBAAoBF,OAAO,EAAE,GAAI,UAAS,IAAI3D,IAAIkG,GAAG,YAAY1F,KAAKC,SAAS2F,SAAS,SAAS5F,KAAKC,SAAS2F,UAAU/C,GAAE,EAAG,EAAE7C,KAAKoB,OAAOyB,GAAGhD,GAAGG,KAAKmB,KAAKnB,KAAKa,OAAOb,KAAKC,SAASa,QAAQd,KAAKoB,MAAMpB,KAAKoB,MAAMpB,KAAKK,YAAYG,YAAYuD,EAAE/D,KAAKC,SAAS0F,mBAAmBlG,EAAE,EAAEA,EAAEO,KAAKK,YAAYC,YAAY0B,OAAOvC,IAAIsC,GAAG5C,EAAEa,KAAKK,YAAYC,YAAYb,IAAI+D,KAAK,YAAYrE,EAAEqE,KAAK,aAAaX,GAAGJ,EAAEhD,IAAIO,KAAKK,YAAYC,YAAY0B,OAAO,EAAE+B,EAAEE,EAAElC,EAAEhC,EAAEkE,IAAIxB,EAAE5C,EAAEkC,EAAEhC,EAAEF,GAAGkE,GAAG8B,KAAKC,MAAMrD,GAAGtD,EAAEqE,KAAK,YAAYqC,KAAKC,MAAMrD,IAAItD,EAAEqE,KAAK,aAAaqC,KAAKE,KAAKhG,KAAK,IAAIN,GAAGM,EAAE+D,KAAKA,EAAE/D,EAAG,OAAOC,MAAKK,YAAYP,OAAOgE,EAAEjB,GAAG9C,EAAEb,UAAU8G,SAAS,SAASxG,GAAG,GAAIC,GAAEN,EAAE4C,EAAEU,EAAEzC,KAAKC,SAASF,EAAEC,KAAKa,MAAO,IAAG1B,EAAEa,KAAKwF,mBAAmBhG,GAAGA,GAAG,SAASiD,EAAEmD,cAAczG,EAAEa,KAAKuF,uBAAuB,CAAC,GAAGvF,KAAKe,cAAcf,KAAKe,aAAaf,KAAKK,YAAYP,SAASE,KAAKK,YAAYP,OAAOE,KAAKe,cAAcvB,IAAI,WAAWiD,EAAEmD,SAAS,UAAUnD,EAAEmD,SAAS,CAAC,GAAI/C,GAAE7C,KAAK4B,aAAa,EAAE5B,KAAKa,QAAQb,KAAKK,YAAYC,YAAY0B,OAAO,GAAGS,EAAE3B,OAAQ,KAAIiB,EAAE,EAAEA,EAAE/B,KAAKK,YAAYC,YAAY0B,OAAOD,IAAIc,IAAIpD,EAAEO,KAAKK,YAAYC,YAAYyB,IAAIyB,KAAK,YAAa,YAAWf,EAAEmD,QAAQ7F,GAAG8C,EAAE,EAAE,UAAUJ,EAAEmD,UAAU7F,GAAG8C,GAAG,GAAIiB,GAAE9D,KAAKK,YAAYC,YAAY0B,OAAO,CAAE,KAAID,EAAE,EAAEA,GAAG+B,EAAE/B,IAAItC,EAAEO,KAAKK,YAAYC,YAAYN,KAAKC,SAASgG,IAAInC,EAAE/B,EAAEA,GAAG/B,KAAK4D,aAAanE,EAAEM,EAAEC,KAAKmB,KAAK1B,EAAE+D,KAAK,aAAa/D,EAAE+D,KAAK,cAAcxD,KAAKK,YAAYP,QAAQC,GAAGN,EAAE+D,KAAK,aAAaf,EAAE3B,OAAQd,MAAKkG,mBAAmBlG,KAAKmB,KAAKnB,KAAKK,YAAYP,OAAOE,KAAKa,OAAOb,KAAKmG,qBAAqBnG,KAAKkG,mBAAmBlG,KAAKoG,sBAAsB5G,GAAGQ,KAAKK,YAAYP,QAAQ2C,EAAEgD,WAAWtG,KAAKa,KAAKmB,MAAMnB,KAAKK,YAAYP,OAAO2C,EAAE3B,QAAQd,KAAKoB,MAAM,EAAEpB,KAAKuF,mBAAmBvF,KAAKC,SAASoG,aAAaC,KAAKtG,KAAK,iBAAkB,IAAIP,GAAE,CAA4DM,GAAEb,UAAUqH,sBAAsB,WAAW9G,EAAEO,KAAK6B,SAAS/B,SAASE,KAAK6B,SAAS/B,OAAOL,IAAIM,EAAEb,UAAUiH,qBAAqB,SAAS3G,GAAGC,EAAEoG,KAAKW,IAAIhH,EAAEC,GAAGO,KAAK6B,SAAS/B,OAAOL,IAAIM,EAAEb,UAAUuH,sBAAsB,SAASjH,GAAGC,EAAED,EAAEQ,KAAK6B,SAAS/B,OAAON,IAAIO,EAAEb,UAAUwH,WAAW,WAAW1G,KAAK2B,qBAAqBgF,YAAY9G,EAAEsE,MAAM,WAAW,GAAGnE,KAAK6B,SAAS+E,GAAG,YAAY,CAAC,GAAIpH,GAAEqH,WAAW7G,KAAK6B,SAAStB,QAASpB,OAAMa,KAAK0B,YAAYmE,KAAKiB,IAAItH,EAAEQ,KAAK4B,cAAc5B,KAAKC,SAAS8G,qBAAqB/G,KAAK4B,aAAapC,EAAEQ,KAAKgH,SAAShH,KAAKuG,wBAAwBvG,KAAKiH,kBAAiB,KAAMjH,KAAK0B,YAAYvC,IAAIa,KAAK4B,aAAapC,KAAKQ,MAAMA,KAAKC,SAASiH,cAAcnH,EAAEb,UAAUiI,gBAAgB,WAAW,MAAO,QAAOnH,KAAKqB,QAAQI,YAAY1B,EAAEb,UAAUkH,iBAAiB,WAAW,MAAOpG,MAAKqB,QAAQG,IAAI4F,eAAerH,EAAEb,UAAUmI,4BAA4B,WAAWC,cAActH,KAAKqB,QAAQI,YAAYzB,KAAKqB,QAAQI,WAAW,KAAKzB,KAAKmG,qBAAqBnG,KAAK6B,SAAS/B,SAASE,KAAKoG,oBAAoBpG,KAAKqB,QAAQG,IAAI+F,UAAUxH,EAAEb,UAAUsI,6BAA6B,WAAW,GAAIhI,GAAEQ,KAAKqB,QAAQ5B,EAAED,EAAEgC,IAAI6B,KAAK,OAAQiE,eAAc9H,EAAEiC,YAAYzB,KAAK6B,SAAS0C,OAAO/E,EAAEgC,KAAKxB,KAAKmG,qBAAqBnG,KAAKmB,KAAKnB,KAAKK,YAAYP,OAAOE,KAAKoG,oBAAoB5G,EAAEiC,WAAWkF,YAAY,WAAWnH,EAAE8B,MAAM7B,EAAEuC,OAAOvC,EAAEgI,GAAGjI,EAAE8B,OAAO6B,OAAO3D,EAAE+B,SAAS,GAAG9B,EAAEgI,GAAGjI,EAAE8B,MAAM7B,EAAEuC,QAAQmB,OAAO3D,EAAE+B,SAAS,GAAG/B,EAAE8B,OAAO9B,EAAE8B,MAAM,IAAI,EAAE7B,EAAEuC,SAASxC,EAAE+B,WAAWxB,EAAEb,UAAU8H,OAAO,WAAWhH,KAAKS,iBAAiB,KAAKT,KAAKU,qBAAqBV,KAAKmB,KAAKnB,KAAKa,OAAOb,KAAKoB,KAAK,EAAEpB,KAAKuF,oBAAoBxF,EAAEb,UAAUwI,cAAc,SAASlI,GAAG,GAAIC,EAAE,OAAOD,IAAG,MAAMQ,KAAKS,iBAAiBhB,EAAEI,EAAEG,KAAKS,kBAAkBkH,QAAQ3H,KAAKC,SAAS2H,UAAUC,WAAW7H,KAAKI,WAAWX,EAAEO,KAAK6B,SAASiG,SAAS9H,KAAKC,SAAS2H,UAAUC,WAAW,EAAEpI,EAAEuC,SAASnC,EAAEkI,WAAW/H,KAAKC,SAAS+H,MAAMvI,EAAEO,KAAKiI,UAAUxI,GAAGO,KAAKC,SAASiI,YAAYzI,EAAEO,KAAKmI,aAAa1I,IAAIO,KAAKS,iBAAiBhB,EAAEA,EAAEuC,OAAO,GAAGhC,KAAKC,SAASmI,OAAO3I,EAAEO,KAAKqI,YAAY5I,GAAGO,KAAKsI,aAAa7I,IAAIO,KAAKI,QAAQJ,KAAKI,QAAQmI,OAAO9I,IAAG,GAAIM,EAAEb,UAAUsJ,gBAAgB,SAAShJ,GAAG,GAAIC,GAAEO,IAAKH,GAAE4I,KAAKjJ,EAAE,WAAWK,EAAEG,MAAM0I,SAASjJ,EAAEoC,aAAa9B,EAAEb,UAAUiJ,aAAa,SAAS3I,GAAG,GAAIC,GAAEN,EAAE4C,CAAE,KAAItC,EAAED,EAAEwC,OAAO,EAAE,EAAEvC,EAAEA,IAAIN,EAAE0G,KAAK8C,MAAM9C,KAAK+C,UAAUnJ,EAAE,IAAIsC,EAAEvC,EAAEC,GAAGD,EAAEC,GAAGD,EAAEL,GAAGK,EAAEL,GAAG4C,CAAE,OAAO/B,MAAKwI,gBAAgBhJ,GAAGA,GAAGO,EAAEb,UAAU+I,UAAU,SAASzI,GAAG,MAAOA,GAAEwI,KAAKhI,KAAKC,SAAS+H,MAAMhI,KAAKwI,gBAAgBhJ,GAAGA,GAAGO,EAAEb,UAAUoJ,aAAa,SAAS9I,GAAG,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAEwC,OAAOvC,IAAII,EAAEL,EAAEC,IAAIqF,YAAY,gBAAgB/E,EAAEb,UAAUmJ,YAAY,SAAS7I,GAAG,GAAIL,GAAEa,KAAKC,QAAS,IAAG,WAAWJ,EAAEgJ,KAAK1J,EAAEiJ,QAAQ,MAAO5I,GAAE4I,OAAO,SAAS5I,GAAG,GAAIC,GAAEI,EAAEL,EAAG,OAAOC,GAAEmH,GAAGzH,EAAEiJ,SAAS3I,EAAEqF,YAAY,gBAAe,IAAKrF,EAAEwD,SAAS,eAAe6B,YAAY,eAAc,IAAM,IAAGjF,EAAEkI,WAAW5I,EAAEiJ,QAAQ,CAAC,IAAI,GAAI3I,GAAED,EAAE4I,OAAOjJ,EAAEiJ,QAAQrG,EAAE,EAAEA,EAAEvC,EAAEwC,OAAOD,SAAStC,EAAE4C,QAAQ7C,EAAEuC,IAAIlC,EAAEL,EAAEuC,IAAIkB,SAAS,eAAe6B,YAAY,cAAcjF,EAAEL,EAAEuC,IAAI+C,YAAY,cAAe,OAAOrF,KAAIM,EAAEb,UAAU4J,QAAQ,WAAWxB,cAActH,KAAK2B,sBAAsB9B,EAAE4I,KAAKzI,KAAKI,QAAQP,EAAEsE,MAAM,SAAS3E,EAAEC,GAAG,GAAIN,GAAEU,EAAEJ,EAAGN,GAAE0E,IAAI,QAAQ,IAAI1E,EAAE0E,IAAI,SAAS,IAAI1E,EAAE0E,IAAI,MAAM,IAAI1E,EAAE0E,IAAI,OAAO,IAAI1E,EAAEqE,KAAK,YAAY,QAAQrE,EAAE2F,YAAY,WAAY,IAAI/C,GAAE/B,KAAK0D,aAAavE,EAAG4C,GAAE8B,IAAI,QAAQ,IAAI9B,EAAE8B,IAAI,SAAS,IAAI9B,EAAE8B,IAAI,cAAc,IAAI9B,EAAE8B,IAAI,aAAa,IAAI9B,EAAE0B,KAAK,MAAM1B,EAAEyB,KAAK,mBAAmBzB,EAAEyB,KAAK,iBAAiB,QAAQxD,KAAK2E,4BAA4BxF,EAAG,IAAIsD,GAAEzC,KAAK2D,iBAAiBxE,EAAGA,GAAEqE,KAAK,sBAAsBrE,EAAEqE,KAAK,oBAAoB,QAAQ,OAAOf,GAAGA,EAAEsG,UAAU,OAAOtG,GAAGA,EAAEU,OAAO,EAAE,IAAInD,OAAOA,KAAK6B,SAASgC,IAAI,SAAS,IAAI7D,KAAK6B,SAASiD,YAAY,qBAAqB9E,KAAK6B,SAAS2B,KAAK,gBAAgB,SAASzD,EAAEb,UAAU8J,cAAc,SAASxJ,GAAG,IAAI,GAAIC,GAAEO,KAAKU,kBAAkB,EAAEjB,EAAEO,KAAKI,QAAQ4B,OAAOvC,IAAI,CAAC,GAAIN,GAAEU,EAAEG,KAAKI,QAAQX,GAAI,KAAG,IAAKN,EAAEqE,KAAK,cAAc,YAAYrE,EAAEqE,KAAK,aAAa,CAAC,GAAIzB,GAAE/B,KAAK4B,aAAa,EAAE5B,KAAKa,QAAQb,KAAKK,YAAYC,YAAY0B,OAAO,GAAGhC,KAAKC,SAASa,QAAQ2B,EAAEtD,EAAEqE,KAAK,YAAYrE,EAAEqE,KAAK,YAAa,IAAGzB,GAAG/B,KAAKK,YAAYG,YAAYiC,GAAGzC,KAAKC,SAASwF,YAAYzF,KAAKgG,UAAS,KAAMhG,KAAAA,SAAWY,SAASZ,KAAAA,SAAWW,OAAO,WAAYX,MAAKiH,iBAAiBzH,EAAGQ,MAAKK,YAAYC,YAAY2I,KAAK9J,GAAGa,KAAKK,YAAYG,aAAaiC,EAAEzC,KAAKK,YAAYE,OAAOkC,EAAEzC,KAAKC,SAASwF,UAAUzF,KAAKU,kBAAkBjB,MAAO,IAAG,UAAUN,EAAEqE,KAAK,aAAa,OAAO,EAAExD,KAAKK,YAAYC,YAAY0B,QAAQhC,KAAKgG,UAAS,GAAIhG,KAAKmH,mBAAmBnH,KAAKqH,8BAA8BrH,KAAKkJ,yBAAyBlJ,KAAKC,SAASoG,aAAaC,KAAKtG,KAAKR,EAAE,YAAY,eAAeQ,KAAKyG,sBAAsBzG,KAAKkG,qBAAqBnG,EAAEb,UAAUgK,uBAAuB,WAAWlJ,KAAAA,SAAWY,QAAQ,EAAE,OAAOZ,KAAKG,qBAAqBgJ,aAAanJ,KAAKG,oBAAoBH,KAAKG,mBAAmB,OAAOJ,EAAEb,UAAU+H,iBAAiB,SAASzH,GAAG,GAAIC,GAAEO,IAAKA,MAAKkJ,yBAAyBlJ,KAAKG,mBAAmBiJ,WAAW,WAAW3J,EAAEuJ,cAAcxJ,IAAI,OAAOO,EAAEb,UAAUgF,aAAa,SAAS1E,EAAEC,EAAEN,GAAG,GAAGM,GAAGN,EAAE,CAAC,GAAI4C,GAAE,GAAIsH,OAAM5G,EAAE5C,EAAEkC,EAAGtC,IAAGgD,EAAEuB,IAAI,OAAO,WAAWvB,EAAE4C,IAAI,cAAc5F,EAAEsC,KAAK5C,GAAGsD,EAAEuB,IAAI,QAAQ,WAAWvB,EAAE4C,IAAI,cAAclG,EAAE4C,KAAKA,EAAEuH,IAAI9J,IAAIO,EAAEb,UAAUqK,KAAK,WAAW,GAAIzF,IAAE,EAAGC,GAAE,EAAGE,EAAEjE,IAAKH,GAAE4I,KAAKzI,KAAKI,QAAQ,SAASZ,EAAEC,GAAG,GAAIN,GAAEU,EAAEJ,GAAGsC,EAAEkC,EAAEP,aAAavE,EAAG,IAAGA,EAAE8D,SAAS,aAAY,IAAK9D,EAAEqE,KAAK,cAAc,YAAYrE,EAAEqE,KAAK,aAAa,GAAG,OAAOS,EAAEhE,SAASuJ,KAAKrK,EAAEsE,KAAK,MAAMQ,EAAEhE,SAASuJ,KAAK,OAAOvF,EAAEhE,SAASwJ,QAAQtK,EAAEsE,KAAK,SAASQ,EAAEhE,SAASwJ,QAAQ,OAAO1H,EAAE,CAAC,GAAIU,GAAEwB,EAAEV,uBAAuBxB,EAAG,IAAGA,EAAE0B,KAAK,MAAMhB,IAAG,IAAKwB,EAAEhE,SAASyJ,mBAAmB,CAAC,GAAI3J,GAAE8G,WAAW9E,EAAE4H,KAAK,UAAU9G,EAAEgE,WAAW9E,EAAE4H,KAAK,UAAW,KAAIC,MAAM7J,KAAK6J,MAAM/G,GAAG,MAAO1D,GAAEqE,KAAK,WAAWzD,GAAGZ,EAAEqE,KAAK,YAAYX,GAAG1D,EAAEqE,KAAK,YAAY,WAAWO,GAAE,EAAGE,EAAEgD,kBAAiB,IAAI,EAAG9H,EAAEqE,KAAK,aAAY,GAAIM,GAAE,EAAGG,EAAEkD,mBAAmBlD,EAAEuD,+BAA+BvD,EAAEC,aAAazB,EAAE,SAASjD,GAAGL,EAAEqE,KAAK,WAAWhE,EAAEe,OAAOpB,EAAEqE,KAAK,YAAYhE,EAAEM,QAAQX,EAAEqE,KAAK,aAAY,GAAIS,EAAEgD,kBAAiB,IAAK,WAAW9H,EAAEqE,KAAK,YAAY,SAASS,EAAEgD,kBAAiB,SAAW9H,GAAEqE,KAAK,aAAY,GAAIrE,EAAEqE,KAAK,WAAWrE,EAAEoB,QAAQsG,WAAW1H,EAAE0E,IAAI,UAAU,GAAG1E,EAAEqE,KAAK,YAAYrE,EAAEW,SAAS+G,WAAW1H,EAAE0E,IAAI,WAAW,KAAKC,GAAGC,GAAG/D,KAAKiH,kBAAiB,GAAIjH,KAAK0G,cAAc3G,EAAEb,UAAU2K,qBAAqB,SAASrK,EAAEC,GAAG,GAAG,WAAWI,EAAEgJ,KAAKrJ,EAAEC,MAAMD,EAAEC,GAAGoH,WAAWrH,EAAEC,KAAK,WAAWI,EAAEgJ,KAAKrJ,EAAEC,IAAI,KAAMA,GAAE,mBAAoB,IAAGmK,MAAMpK,EAAEC,IAAI,KAAK,sBAAsBA,GAAGM,EAAEb,UAAU4K,wBAAwB,WAAW,GAAG,WAAWjK,EAAEgJ,KAAK7I,KAAKC,SAASgC,mBAAmB,KAAK,yDAA0D,IAAIzC,KAAK,KAAI,GAAIC,KAAKO,MAAKC,SAASgC,kBAAkBjC,KAAKC,SAASgC,kBAAkBM,eAAe9C,IAAID,EAAEyJ,KAAKxJ,EAAG,KAAI,GAAIN,IAAG4K,EAAE,IAAIhI,EAAE,EAAEA,EAAEvC,EAAEwC,OAAOD,IAAI,GAAG,WAAWlC,EAAEgJ,KAAKrJ,EAAEuC,IAAI,IAAI5C,EAAE6K,SAASxK,EAAEuC,GAAGe,QAAQ,UAAU,IAAI,KAAK9C,KAAKC,SAASgC,kBAAkBzC,EAAEuC,IAAI,MAAMvC,GAAG,KAAK,yDAAyDA,EAAE,QAASL,GAAEK,EAAEuC,IAAI/B,KAAKC,SAASgC,kBAAkBzC,EAAEuC,GAAI/B,MAAKC,SAASgC,kBAAkB9C,GAAGY,EAAEb,UAAU8B,qBAAqB,WAAW,GAAIxB,GAAE,KAAKC,EAAEO,KAAKC,SAASwF,SAAU,IAAG,WAAW5F,EAAEgJ,KAAK7I,KAAKC,SAASc,cAAcvB,EAAEQ,KAAKC,SAASc,aAAa4B,MAAM,aAAalD,EAAEoH,WAAW7G,KAAKC,SAASc,aAAa4B,MAAM,eAAe,IAAI,IAAIkE,WAAW7G,KAAKC,SAASc,kBAAkB,CAAC,GAAG,WAAWlB,EAAEgJ,KAAK7I,KAAKC,SAASc,cAAc,CAAC,IAAG,IAAKf,KAAKC,SAASc,cAAc,MAAMf,KAAKC,SAASc,aAAa,MAAO,KAAK,MAAK,gDAAgDvB,EAAEQ,KAAKC,SAASc,aAAa,GAAG6I,MAAMpK,GAAG,KAAK,iCAAkC,OAAOA,GAAEC,IAAID,EAAEC,GAAGD,GAAGO,EAAEb,UAAUgB,cAAc,WAAWF,KAAK8J,0BAA0B9J,KAAK6J,qBAAqB7J,KAAKC,SAAS,aAAaD,KAAK6J,qBAAqB7J,KAAKC,SAAS,WAAWD,KAAK6J,qBAAqB7J,KAAKC,SAAS,SAAU,IAAIT,IAAG,UAAU,YAAY,OAAO,SAAS,QAAQ,OAAQ,SAAQA,EAAE6C,QAAQrC,KAAKC,SAAS2F,SAAS,KAAK,2BAA2BpG,EAAEyK,KAAK,KAAM,IAAGjK,KAAK6J,qBAAqB7J,KAAKC,SAAS,oBAAoBD,KAAKC,SAAS0F,iBAAiB,GAAG,EAAE3F,KAAKC,SAAS0F,iBAAiB,KAAK,gDAAiD,IAAG,YAAY9F,EAAEgJ,KAAK7I,KAAKC,SAAS+C,cAAc,KAAK,gCAAiC,IAAG,YAAYnD,EAAEgJ,KAAK7I,KAAKC,SAASoE,UAAU,KAAK,4BAA6B,IAAGrE,KAAK6J,qBAAqB7J,KAAKC,SAASuE,gBAAgB,qBAAqBxE,KAAK6J,qBAAqB7J,KAAKC,SAASuE,gBAAgB,kBAAkBxE,KAAKC,SAASuE,gBAAgBQ,eAAe,GAAG,EAAEhF,KAAKC,SAASuE,gBAAgBQ,eAAe,KAAK,+DAAgE,IAAGhF,KAAK6J,qBAAqB7J,KAAKC,SAASuE,gBAAgB,qBAAqBxE,KAAKC,SAASuE,gBAAgBC,kBAAkB,GAAG,EAAEzE,KAAKC,SAASuE,gBAAgBC,kBAAkB,KAAK,kEAAmE,IAAGzE,KAAK6J,qBAAqB7J,KAAKC,SAAS,2BAA2BD,KAAK6J,qBAAqB7J,KAAKC,SAAS,eAAeD,KAAK6J,qBAAqB7J,KAAKC,SAAS,sBAAsB,YAAYJ,EAAEgJ,KAAK7I,KAAKC,SAASiI,WAAW,KAAK,6BAA8B,IAAG,WAAWrI,EAAEgJ,KAAK7I,KAAKC,SAAS2H,UAAU,KAAK,2BAA4B,KAAG,IAAK5H,KAAKC,SAAS+H,OAAOnI,EAAEkI,WAAW/H,KAAKC,SAAS+H,MAAM,KAAK,6CAA8C,KAAG,IAAKhI,KAAKC,SAASmI,SAASvI,EAAEkI,WAAW/H,KAAKC,SAASmI,SAAS,WAAWvI,EAAEgJ,KAAK7I,KAAKC,SAASmI,QAAQ,KAAK,uDAAuDrI,EAAEb,UAAUgC,qBAAqB,WAAW,GAAI1B,KAAK,KAAI,GAAIC,KAAKO,MAAKC,SAASgC,kBAAkBjC,KAAKC,SAASgC,kBAAkBM,eAAe9C,IAAID,EAAEyJ,KAAKe,SAASvK,EAAE,IAAK,OAAOD,GAAEwI,KAAK,SAASxI,EAAEC,GAAG,MAAOA,GAAED,EAAE,EAAEA,EAAEC,KAAK,IAAID,GAAGO,EAAEb,UAAUgL,eAAe,SAAS1K,GAAGQ,KAAKC,SAASJ,EAAEsK,UAAUnK,KAAKC,SAAST,GAAGQ,KAAKE,gBAAgBF,KAAKa,OAAO,GAAGb,KAAKC,SAASY,OAAOb,KAAKC,SAASY,OAAOb,KAAKC,SAASa,QAAQd,KAAKe,aAAaf,KAAKgB,uBAAuBhB,KAAKiB,aAAajB,KAAKkB,wBAAwBnB,EAAEb,UAAUkL,UAAUnI,qBAAqBS,cAAc,OAAO+C,UAAU,IAAI1E,cAAa,EAAGD,QAAQ,EAAED,UAAU+E,QAAQ,YAAYD,iBAAiB,GAAG+D,oBAAmB,EAAGrF,UAAS,EAAGrB,cAAa,EAAGI,wBAAwB,IAAIoB,iBAAiBO,kBAAkB,IAAIC,eAAe,GAAGP,kBAAkB,GAAG+E,IAAI,KAAKC,OAAO,KAAK7G,UAAU,eAAcsE,YAAY,IAAIH,mBAAmB,EAAEmB,WAAU,EAAGjC,KAAI,EAAG+B,MAAK,EAAGI,QAAO,EAAGR,SAAS,uBAAuBtE,YAAY,mBAAmB+C,aAAa,SAAS7G,GAAGQ,KAAK6B,SAASwI,QAAQ7K,KAAKK,EAAEyK,GAAGC,iBAAiB,SAAS9H,GAAG,MAAOzC,MAAKyI,KAAK,SAASjJ,EAAEC,GAAG,GAAIN,GAAEU,EAAEJ,EAAGN,GAAE8D,SAAS,oBAAqB,IAAIlB,GAAE5C,EAAEqE,KAAK,gBAAiB,IAAG,SAASzB,EAAE,CAAC,GAAG,MAAMU,GAAG,WAAW5C,EAAEgJ,KAAKpG,GAAG,CAAC,GAAG,YAAYA,EAAE,MAAO,MAAK,iCAAiCV,EAAE,GAAIhC,GAAEZ,EAAEU,EAAEsK,UAAUpK,EAAEb,UAAUkL,SAAS3H,IAAItD,EAAEqE,KAAK,gBAAgBzB,OAAQ,IAAG,aAAaU,OAAO,CAAC,GAAG,YAAYA,EAAE,WAAYV,GAAE+G,SAAU/G,GAAEmI,eAAezH,GAAGV,EAAEiF,SAASjF,EAAE2F,cAAc,aAAajF,IAAIV,EAAEwH","file":"jquery.justifiedGallery.min.js","sourcesContent":["/*!\n * justifiedGallery - v3.7.0\n * http://miromannino.github.io/Justified-Gallery/\n * Copyright (c) 2018 Miro Mannino\n * Licensed under the MIT license.\n */\n\n!function(e){\"function\"==typeof define&&define.amd?define([\"jquery\"],e):\"object\"==typeof module&&module.exports?module.exports=function(t,i){return void 0===i&&(i=\"undefined\"!=typeof window?require(\"jquery\"):require(\"jquery\")(t)),e(i),i}:e(jQuery)}(function(g){var r=function(t,i){this.settings=i,this.checkSettings(),this.imgAnalyzerTimeout=null,this.entries=null,this.buildingRow={entriesBuff:[],width:0,height:0,aspectRatio:0},this.lastFetchedEntry=null,this.lastAnalyzedIndex=-1,this.yield={every:2,flushed:0},this.border=0<=i.border?i.border:i.margins,this.maxRowHeight=this.retrieveMaxRowHeight(),this.suffixRanges=this.retrieveSuffixRanges(),this.offY=this.border,this.rows=0,this.spinner={phase:0,timeSlot:150,$el:g('<div class=\"spinner\"><span></span><span></span><span></span></div>'),intervalId:null},this.scrollBarOn=!1,this.checkWidthIntervalId=null,this.galleryWidth=t.width(),this.$gallery=t};r.prototype.getSuffix=function(t,i){var e,s;for(e=i<t?t:i,s=0;s<this.suffixRanges.length;s++)if(e<=this.suffixRanges[s])return this.settings.sizeRangeSuffixes[this.suffixRanges[s]];return this.settings.sizeRangeSuffixes[this.suffixRanges[s-1]]},r.prototype.removeSuffix=function(t,i){return t.substring(0,t.length-i.length)},r.prototype.endsWith=function(t,i){return-1!==t.indexOf(i,t.length-i.length)},r.prototype.getUsedSuffix=function(t){for(var i in this.settings.sizeRangeSuffixes)if(this.settings.sizeRangeSuffixes.hasOwnProperty(i)){if(0===this.settings.sizeRangeSuffixes[i].length)continue;if(this.endsWith(t,this.settings.sizeRangeSuffixes[i]))return this.settings.sizeRangeSuffixes[i]}return\"\"},r.prototype.newSrc=function(t,i,e,s){var n;if(this.settings.thumbnailPath)n=this.settings.thumbnailPath(t,i,e,s);else{var r=t.match(this.settings.extension),o=null!==r?r[0]:\"\";n=t.replace(this.settings.extension,\"\"),n=this.removeSuffix(n,this.getUsedSuffix(n)),n+=this.getSuffix(i,e)+o}return n},r.prototype.showImg=function(t,i){this.settings.cssAnimation?(t.addClass(\"entry-visible\"),i&&i()):(t.stop().fadeTo(this.settings.imagesAnimationDuration,1,i),t.find(this.settings.imgSelector).stop().fadeTo(this.settings.imagesAnimationDuration,1,i))},r.prototype.extractImgSrcFromImage=function(t){var i=void 0!==t.data(\"safe-src\")?t.data(\"safe-src\"):t.attr(\"src\");return t.data(\"jg.originalSrc\",i),i},r.prototype.imgFromEntry=function(t){var i=t.find(this.settings.imgSelector);return 0===i.length?null:i},r.prototype.captionFromEntry=function(t){var i=t.find(\"> .caption\");return 0===i.length?null:i},r.prototype.displayEntry=function(t,i,e,s,n,r){t.width(s),t.height(r),t.css(\"top\",e),t.css(\"left\",i);var o=this.imgFromEntry(t);if(null!==o){o.css(\"width\",s),o.css(\"height\",n),o.css(\"margin-left\",-s/2),o.css(\"margin-top\",-n/2);var a=o.attr(\"src\"),h=this.newSrc(a,s,n,o[0]);o.one(\"error\",function(){o.attr(\"src\",o.data(\"jg.originalSrc\"))});var l=function(){a!==h&&o.attr(\"src\",h)};\"skipped\"===t.data(\"jg.loaded\")?this.onImageEvent(a,g.proxy(function(){this.showImg(t,l),t.data(\"jg.loaded\",!0)},this)):this.showImg(t,l)}else this.showImg(t);this.displayEntryCaption(t)},r.prototype.displayEntryCaption=function(t){var i=this.imgFromEntry(t);if(null!==i&&this.settings.captions){var e=this.captionFromEntry(t);if(null===e){var s=i.attr(\"alt\");this.isValidCaption(s)||(s=t.attr(\"title\")),this.isValidCaption(s)&&(e=g('<div class=\"caption\">'+s+\"</div>\"),t.append(e),t.data(\"jg.createdCaption\",!0))}null!==e&&(this.settings.cssAnimation||e.stop().fadeTo(0,this.settings.captionSettings.nonVisibleOpacity),this.addCaptionEventsHandlers(t))}else this.removeCaptionEventsHandlers(t)},r.prototype.isValidCaption=function(t){return void 0!==t&&0<t.length},r.prototype.onEntryMouseEnterForCaption=function(t){var i=this.captionFromEntry(g(t.currentTarget));this.settings.cssAnimation?i.addClass(\"caption-visible\").removeClass(\"caption-hidden\"):i.stop().fadeTo(this.settings.captionSettings.animationDuration,this.settings.captionSettings.visibleOpacity)},r.prototype.onEntryMouseLeaveForCaption=function(t){var i=this.captionFromEntry(g(t.currentTarget));this.settings.cssAnimation?i.removeClass(\"caption-visible\").removeClass(\"caption-hidden\"):i.stop().fadeTo(this.settings.captionSettings.animationDuration,this.settings.captionSettings.nonVisibleOpacity)},r.prototype.addCaptionEventsHandlers=function(t){var i=t.data(\"jg.captionMouseEvents\");void 0===i&&(i={mouseenter:g.proxy(this.onEntryMouseEnterForCaption,this),mouseleave:g.proxy(this.onEntryMouseLeaveForCaption,this)},t.on(\"mouseenter\",void 0,void 0,i.mouseenter),t.on(\"mouseleave\",void 0,void 0,i.mouseleave),t.data(\"jg.captionMouseEvents\",i))},r.prototype.removeCaptionEventsHandlers=function(t){var i=t.data(\"jg.captionMouseEvents\");void 0!==i&&(t.off(\"mouseenter\",void 0,i.mouseenter),t.off(\"mouseleave\",void 0,i.mouseleave),t.removeData(\"jg.captionMouseEvents\"))},r.prototype.clearBuildingRow=function(){this.buildingRow.entriesBuff=[],this.buildingRow.aspectRatio=0,this.buildingRow.width=0},r.prototype.prepareBuildingRow=function(t){var i,e,s,n,r,o=!0,a=0,h=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*this.settings.margins,l=h/this.buildingRow.aspectRatio,g=this.settings.rowHeight,u=this.buildingRow.width/h>this.settings.justifyThreshold;if(t&&\"hide\"===this.settings.lastRow&&!u){for(i=0;i<this.buildingRow.entriesBuff.length;i++)e=this.buildingRow.entriesBuff[i],this.settings.cssAnimation?e.removeClass(\"entry-visible\"):(e.stop().fadeTo(0,.1),e.find(\"> img, > a > img\").fadeTo(0,0));return-1}for(t&&!u&&\"justify\"!==this.settings.lastRow&&\"hide\"!==this.settings.lastRow&&(o=!1,0<this.rows&&(o=(g=(this.offY-this.border-this.settings.margins*this.rows)/this.rows)*this.buildingRow.aspectRatio/h>this.settings.justifyThreshold)),i=0;i<this.buildingRow.entriesBuff.length;i++)s=(e=this.buildingRow.entriesBuff[i]).data(\"jg.width\")/e.data(\"jg.height\"),o?(n=i===this.buildingRow.entriesBuff.length-1?h:l*s,r=l):(n=g*s,r=g),h-=Math.round(n),e.data(\"jg.jwidth\",Math.round(n)),e.data(\"jg.jheight\",Math.ceil(r)),(0===i||r<a)&&(a=r);return this.buildingRow.height=a,o},r.prototype.flushRow=function(t){var i,e,s,n=this.settings,r=this.border;if(e=this.prepareBuildingRow(t),t&&\"hide\"===n.lastRow&&-1===e)this.clearBuildingRow();else{if(this.maxRowHeight&&this.maxRowHeight<this.buildingRow.height&&(this.buildingRow.height=this.maxRowHeight),t&&(\"center\"===n.lastRow||\"right\"===n.lastRow)){var o=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*n.margins;for(s=0;s<this.buildingRow.entriesBuff.length;s++)o-=(i=this.buildingRow.entriesBuff[s]).data(\"jg.jwidth\");\"center\"===n.lastRow?r+=o/2:\"right\"===n.lastRow&&(r+=o)}var a=this.buildingRow.entriesBuff.length-1;for(s=0;s<=a;s++)i=this.buildingRow.entriesBuff[this.settings.rtl?a-s:s],this.displayEntry(i,r,this.offY,i.data(\"jg.jwidth\"),i.data(\"jg.jheight\"),this.buildingRow.height),r+=i.data(\"jg.jwidth\")+n.margins;this.galleryHeightToSet=this.offY+this.buildingRow.height+this.border,this.setGalleryTempHeight(this.galleryHeightToSet+this.getSpinnerHeight()),(!t||this.buildingRow.height<=n.rowHeight&&e)&&(this.offY+=this.buildingRow.height+n.margins,this.rows+=1,this.clearBuildingRow(),this.settings.triggerEvent.call(this,\"jg.rowflush\"))}};var i=0;function e(){return g(\"body\").height()>g(window).height()}r.prototype.rememberGalleryHeight=function(){i=this.$gallery.height(),this.$gallery.height(i)},r.prototype.setGalleryTempHeight=function(t){i=Math.max(t,i),this.$gallery.height(i)},r.prototype.setGalleryFinalHeight=function(t){i=t,this.$gallery.height(t)},r.prototype.checkWidth=function(){this.checkWidthIntervalId=setInterval(g.proxy(function(){if(this.$gallery.is(\":visible\")){var t=parseFloat(this.$gallery.width());e()===this.scrollBarOn?Math.abs(t-this.galleryWidth)>this.settings.refreshSensitivity&&(this.galleryWidth=t,this.rewind(),this.rememberGalleryHeight(),this.startImgAnalyzer(!0)):(this.scrollBarOn=e(),this.galleryWidth=t)}},this),this.settings.refreshTime)},r.prototype.isSpinnerActive=function(){return null!==this.spinner.intervalId},r.prototype.getSpinnerHeight=function(){return this.spinner.$el.innerHeight()},r.prototype.stopLoadingSpinnerAnimation=function(){clearInterval(this.spinner.intervalId),this.spinner.intervalId=null,this.setGalleryTempHeight(this.$gallery.height()-this.getSpinnerHeight()),this.spinner.$el.detach()},r.prototype.startLoadingSpinnerAnimation=function(){var t=this.spinner,i=t.$el.find(\"span\");clearInterval(t.intervalId),this.$gallery.append(t.$el),this.setGalleryTempHeight(this.offY+this.buildingRow.height+this.getSpinnerHeight()),t.intervalId=setInterval(function(){t.phase<i.length?i.eq(t.phase).fadeTo(t.timeSlot,1):i.eq(t.phase-i.length).fadeTo(t.timeSlot,0),t.phase=(t.phase+1)%(2*i.length)},t.timeSlot)},r.prototype.rewind=function(){this.lastFetchedEntry=null,this.lastAnalyzedIndex=-1,this.offY=this.border,this.rows=0,this.clearBuildingRow()},r.prototype.updateEntries=function(t){var i;return t&&null!=this.lastFetchedEntry?i=g(this.lastFetchedEntry).nextAll(this.settings.selector).toArray():(this.entries=[],i=this.$gallery.children(this.settings.selector).toArray()),0<i.length&&(g.isFunction(this.settings.sort)?i=this.sortArray(i):this.settings.randomize&&(i=this.shuffleArray(i)),this.lastFetchedEntry=i[i.length-1],this.settings.filter?i=this.filterArray(i):this.resetFilters(i)),this.entries=this.entries.concat(i),!0},r.prototype.insertToGallery=function(t){var i=this;g.each(t,function(){g(this).appendTo(i.$gallery)})},r.prototype.shuffleArray=function(t){var i,e,s;for(i=t.length-1;0<i;i--)e=Math.floor(Math.random()*(i+1)),s=t[i],t[i]=t[e],t[e]=s;return this.insertToGallery(t),t},r.prototype.sortArray=function(t){return t.sort(this.settings.sort),this.insertToGallery(t),t},r.prototype.resetFilters=function(t){for(var i=0;i<t.length;i++)g(t[i]).removeClass(\"jg-filtered\")},r.prototype.filterArray=function(t){var e=this.settings;if(\"string\"===g.type(e.filter))return t.filter(function(t){var i=g(t);return i.is(e.filter)?(i.removeClass(\"jg-filtered\"),!0):(i.addClass(\"jg-filtered\").removeClass(\"jg-visible\"),!1)});if(g.isFunction(e.filter)){for(var i=t.filter(e.filter),s=0;s<t.length;s++)-1===i.indexOf(t[s])?g(t[s]).addClass(\"jg-filtered\").removeClass(\"jg-visible\"):g(t[s]).removeClass(\"jg-filtered\");return i}},r.prototype.destroy=function(){clearInterval(this.checkWidthIntervalId),g.each(this.entries,g.proxy(function(t,i){var e=g(i);e.css(\"width\",\"\"),e.css(\"height\",\"\"),e.css(\"top\",\"\"),e.css(\"left\",\"\"),e.data(\"jg.loaded\",void 0),e.removeClass(\"jg-entry\");var s=this.imgFromEntry(e);s.css(\"width\",\"\"),s.css(\"height\",\"\"),s.css(\"margin-left\",\"\"),s.css(\"margin-top\",\"\"),s.attr(\"src\",s.data(\"jg.originalSrc\")),s.data(\"jg.originalSrc\",void 0),this.removeCaptionEventsHandlers(e);var n=this.captionFromEntry(e);e.data(\"jg.createdCaption\")?(e.data(\"jg.createdCaption\",void 0),null!==n&&n.remove()):null!==n&&n.fadeTo(0,1)},this)),this.$gallery.css(\"height\",\"\"),this.$gallery.removeClass(\"justified-gallery\"),this.$gallery.data(\"jg.controller\",void 0)},r.prototype.analyzeImages=function(t){for(var i=this.lastAnalyzedIndex+1;i<this.entries.length;i++){var e=g(this.entries[i]);if(!0===e.data(\"jg.loaded\")||\"skipped\"===e.data(\"jg.loaded\")){var s=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*this.settings.margins,n=e.data(\"jg.width\")/e.data(\"jg.height\");if(s/(this.buildingRow.aspectRatio+n)<this.settings.rowHeight&&(this.flushRow(!1),++this.yield.flushed>=this.yield.every))return void this.startImgAnalyzer(t);this.buildingRow.entriesBuff.push(e),this.buildingRow.aspectRatio+=n,this.buildingRow.width+=n*this.settings.rowHeight,this.lastAnalyzedIndex=i}else if(\"error\"!==e.data(\"jg.loaded\"))return}0<this.buildingRow.entriesBuff.length&&this.flushRow(!0),this.isSpinnerActive()&&this.stopLoadingSpinnerAnimation(),this.stopImgAnalyzerStarter(),this.settings.triggerEvent.call(this,t?\"jg.resize\":\"jg.complete\"),this.setGalleryFinalHeight(this.galleryHeightToSet)},r.prototype.stopImgAnalyzerStarter=function(){this.yield.flushed=0,null!==this.imgAnalyzerTimeout&&(clearTimeout(this.imgAnalyzerTimeout),this.imgAnalyzerTimeout=null)},r.prototype.startImgAnalyzer=function(t){var i=this;this.stopImgAnalyzerStarter(),this.imgAnalyzerTimeout=setTimeout(function(){i.analyzeImages(t)},.001)},r.prototype.onImageEvent=function(t,i,e){if(i||e){var s=new Image,n=g(s);i&&n.one(\"load\",function(){n.off(\"load error\"),i(s)}),e&&n.one(\"error\",function(){n.off(\"load error\"),e(s)}),s.src=t}},r.prototype.init=function(){var a=!1,h=!1,l=this;g.each(this.entries,function(t,i){var e=g(i),s=l.imgFromEntry(e);if(e.addClass(\"jg-entry\"),!0!==e.data(\"jg.loaded\")&&\"skipped\"!==e.data(\"jg.loaded\"))if(null!==l.settings.rel&&e.attr(\"rel\",l.settings.rel),null!==l.settings.target&&e.attr(\"target\",l.settings.target),null!==s){var n=l.extractImgSrcFromImage(s);if(s.attr(\"src\",n),!1===l.settings.waitThumbnailsLoad){var r=parseFloat(s.prop(\"width\")),o=parseFloat(s.prop(\"height\"));if(!isNaN(r)&&!isNaN(o))return e.data(\"jg.width\",r),e.data(\"jg.height\",o),e.data(\"jg.loaded\",\"skipped\"),h=!0,l.startImgAnalyzer(!1),!0}e.data(\"jg.loaded\",!1),a=!0,l.isSpinnerActive()||l.startLoadingSpinnerAnimation(),l.onImageEvent(n,function(t){e.data(\"jg.width\",t.width),e.data(\"jg.height\",t.height),e.data(\"jg.loaded\",!0),l.startImgAnalyzer(!1)},function(){e.data(\"jg.loaded\",\"error\"),l.startImgAnalyzer(!1)})}else e.data(\"jg.loaded\",!0),e.data(\"jg.width\",e.width()|parseFloat(e.css(\"width\"))|1),e.data(\"jg.height\",e.height()|parseFloat(e.css(\"height\"))|1)}),a||h||this.startImgAnalyzer(!1),this.checkWidth()},r.prototype.checkOrConvertNumber=function(t,i){if(\"string\"===g.type(t[i])&&(t[i]=parseFloat(t[i])),\"number\"!==g.type(t[i]))throw i+\" must be a number\";if(isNaN(t[i]))throw\"invalid number for \"+i},r.prototype.checkSizeRangesSuffixes=function(){if(\"object\"!==g.type(this.settings.sizeRangeSuffixes))throw\"sizeRangeSuffixes must be defined and must be an object\";var t=[];for(var i in this.settings.sizeRangeSuffixes)this.settings.sizeRangeSuffixes.hasOwnProperty(i)&&t.push(i);for(var e={0:\"\"},s=0;s<t.length;s++)if(\"string\"===g.type(t[s]))try{e[parseInt(t[s].replace(/^[a-z]+/,\"\"),10)]=this.settings.sizeRangeSuffixes[t[s]]}catch(t){throw\"sizeRangeSuffixes keys must contains correct numbers (\"+t+\")\"}else e[t[s]]=this.settings.sizeRangeSuffixes[t[s]];this.settings.sizeRangeSuffixes=e},r.prototype.retrieveMaxRowHeight=function(){var t=null,i=this.settings.rowHeight;if(\"string\"===g.type(this.settings.maxRowHeight))t=this.settings.maxRowHeight.match(/^[0-9]+%$/)?i*parseFloat(this.settings.maxRowHeight.match(/^([0-9]+)%$/)[1])/100:parseFloat(this.settings.maxRowHeight);else{if(\"number\"!==g.type(this.settings.maxRowHeight)){if(!1===this.settings.maxRowHeight||null==this.settings.maxRowHeight)return null;throw\"maxRowHeight must be a number or a percentage\"}t=this.settings.maxRowHeight}if(isNaN(t))throw\"invalid number for maxRowHeight\";return t<i&&(t=i),t},r.prototype.checkSettings=function(){this.checkSizeRangesSuffixes(),this.checkOrConvertNumber(this.settings,\"rowHeight\"),this.checkOrConvertNumber(this.settings,\"margins\"),this.checkOrConvertNumber(this.settings,\"border\");var t=[\"justify\",\"nojustify\",\"left\",\"center\",\"right\",\"hide\"];if(-1===t.indexOf(this.settings.lastRow))throw\"lastRow must be one of: \"+t.join(\", \");if(this.checkOrConvertNumber(this.settings,\"justifyThreshold\"),this.settings.justifyThreshold<0||1<this.settings.justifyThreshold)throw\"justifyThreshold must be in the interval [0,1]\";if(\"boolean\"!==g.type(this.settings.cssAnimation))throw\"cssAnimation must be a boolean\";if(\"boolean\"!==g.type(this.settings.captions))throw\"captions must be a boolean\";if(this.checkOrConvertNumber(this.settings.captionSettings,\"animationDuration\"),this.checkOrConvertNumber(this.settings.captionSettings,\"visibleOpacity\"),this.settings.captionSettings.visibleOpacity<0||1<this.settings.captionSettings.visibleOpacity)throw\"captionSettings.visibleOpacity must be in the interval [0, 1]\";if(this.checkOrConvertNumber(this.settings.captionSettings,\"nonVisibleOpacity\"),this.settings.captionSettings.nonVisibleOpacity<0||1<this.settings.captionSettings.nonVisibleOpacity)throw\"captionSettings.nonVisibleOpacity must be in the interval [0, 1]\";if(this.checkOrConvertNumber(this.settings,\"imagesAnimationDuration\"),this.checkOrConvertNumber(this.settings,\"refreshTime\"),this.checkOrConvertNumber(this.settings,\"refreshSensitivity\"),\"boolean\"!==g.type(this.settings.randomize))throw\"randomize must be a boolean\";if(\"string\"!==g.type(this.settings.selector))throw\"selector must be a string\";if(!1!==this.settings.sort&&!g.isFunction(this.settings.sort))throw\"sort must be false or a comparison function\";if(!1!==this.settings.filter&&!g.isFunction(this.settings.filter)&&\"string\"!==g.type(this.settings.filter))throw\"filter must be false, a string or a filter function\"},r.prototype.retrieveSuffixRanges=function(){var t=[];for(var i in this.settings.sizeRangeSuffixes)this.settings.sizeRangeSuffixes.hasOwnProperty(i)&&t.push(parseInt(i,10));return t.sort(function(t,i){return i<t?1:t<i?-1:0}),t},r.prototype.updateSettings=function(t){this.settings=g.extend({},this.settings,t),this.checkSettings(),this.border=0<=this.settings.border?this.settings.border:this.settings.margins,this.maxRowHeight=this.retrieveMaxRowHeight(),this.suffixRanges=this.retrieveSuffixRanges()},r.prototype.defaults={sizeRangeSuffixes:{},thumbnailPath:void 0,rowHeight:120,maxRowHeight:!1,margins:1,border:-1,lastRow:\"nojustify\",justifyThreshold:.9,waitThumbnailsLoad:!0,captions:!0,cssAnimation:!0,imagesAnimationDuration:500,captionSettings:{animationDuration:500,visibleOpacity:.7,nonVisibleOpacity:0},rel:null,target:null,extension:/\\.[^.\\\\/]+$/,refreshTime:200,refreshSensitivity:0,randomize:!1,rtl:!1,sort:!1,filter:!1,selector:\"a, div:not(.spinner)\",imgSelector:\"> img, > a > img\",triggerEvent:function(t){this.$gallery.trigger(t)}},g.fn.justifiedGallery=function(n){return this.each(function(t,i){var e=g(i);e.addClass(\"justified-gallery\");var s=e.data(\"jg.controller\");if(void 0===s){if(null!=n&&\"object\"!==g.type(n)){if(\"destroy\"===n)return;throw\"The argument must be an object\"}s=new r(e,g.extend({},r.prototype.defaults,n)),e.data(\"jg.controller\",s)}else if(\"norewind\"===n);else{if(\"destroy\"===n)return void s.destroy();s.updateSettings(n),s.rewind()}s.updateEntries(\"norewind\"===n)&&s.init()})}});"]}