{"version":3,"sources":["app.js"],"names":["attach","path","Promise","cb","el","document","createElement","onload","onerror","src","getElementsByTagName","appendChild","createUUID","s","hexDigits","i","substr","Math","floor","random","uuid","join","isMobile","test","navigator","userAgent","toLowerCase","user_login","getElementById","value","current_url","window","location","href","redirect_to","localStorage","url_before_logging_in","includes","jQuery","ready","$","bootstrapSlider","min","max","tooltip","formatter","range","values","xhrPool","ajaxSetup","beforeSend","jqXHR","push","complete","index","indexOf","splice","abortAll","this","each","idx","abort","length","click","e","preventDefault","post","replace","numberFormat","num","f","arguments","undefined","Number","_number","parseFloat","isNaN","toFixed"],"mappings":"AAAA,YAyDA,SAASA,QAAOC,GACZ,MAAO,IAAIC,SAAQ,SAAUC,GACzB,GAAIC,GAAKC,SAASC,cAAc,SAChCF,GAAGG,OAASH,EAAGI,QAAUL,EACzBC,EAAGK,IAAMR,EACTI,SAASK,qBAAqB,QAAQ,GAAGC,YAAYP,KAc7D,QAASQ,cAIL,IAAK,GAFDC,MACAC,EAAY,mBACPC,EAAI,EAAGA,EAAI,GAAIA,IACpBF,EAAEE,GAAKD,EAAUE,OAAOC,KAAKC,MAAsB,GAAhBD,KAAKE,UAAkB,EAE9DN,GAAE,IAAM,IACRA,EAAE,IAAMC,EAAUE,OAAgB,EAARH,EAAE,IAAa,EAAK,GAC9CA,EAAE,GAAKA,EAAE,IAAMA,EAAE,IAAMA,EAAE,IAAM,GAE/B,IAAIO,GAAOP,EAAEQ,KAAK,GAClB,OAAOD,GAxFX,GAAME,UAAa,4DAA4DC,KAAKC,UAAUC,UAAUC,eAEpGC,WAAatB,SAASuB,eAAe,iBAAmBvB,SAASuB,eAAe,gBAAgBC,QAAS,EACzGC,YAAcC,OAAOC,SAASC,KAC9BC,YAAcC,aAAaC,qBAC5BT,aAAcO,cAAgBJ,YAAYO,SAAS,UAAYH,aAAeJ,cAC7EK,aAAaC,sBAAwB,GACrCL,OAAOC,SAASC,KAAOC,aAG3BI,OAAOjC,UAAUkC,MAAM,SAAUC,GAE7BA,EAAE,gBAAgBC,iBACdC,IAAK,EACLC,IAAK,IACLC,QAAS,OACTC,UAAW,SAAUhB,OAKzBW,EAAE,iBAAiBC,iBACfC,IAAK,EACLC,IAAK,IACLG,OAAO,EACPC,QAAS,GAAI,MAGjBP,EAAEQ,WACFR,EAAES,WACEC,WAAY,SAASC,GACjBX,EAAEQ,QAAQI,KAAKD,IAEnBE,SAAU,SAASF,GACf,GAAIG,GAAQd,EAAEQ,QAAQO,QAAQJ,EAC1BG,OACAd,EAAEQ,QAAQQ,OAAOF,EAAO,MAIpCd,EAAEQ,QAAQS,SAAW,WACjBjB,EAAEkB,MAAMC,KAAK,SAASC,EAAKT,GACvBA,EAAMU,UAEVrB,EAAEQ,QAAQc,OAAS,GAGvBtB,EAAE,eAAeuB,MAAM,SAASC,GAC5BA,EAAEC,iBACFzB,EAAEQ,QAAQS,WACVjB,EAAE0B,KAAK,gBAAiB,WAEpB7D,SAAS2B,SAASmC,QAAQ,qBActC,IAAIC,cAAe,SAASC,GAAU,GAALC,GAAKC,UAAAT,OAAA,GAAAU,SAAAD,UAAA,GAAAA,UAAA,GAAH,CAC/BF,GAAMI,OAAOJ,EACb,IAAIK,GAAWD,OAAOE,WAAWN,EAEjC,OADGO,OAAMF,KAAUA,EAAU,GACtBA,EAAQG,QAAQP","file":"app.js","sourcesContent":["const isMobile = ( /android|webos|iphone|ipod|blackBerry|iemobile|opera Mini/i.test(navigator.userAgent.toLowerCase()) );\n\nlet user_login = document.getElementById('is-logged-in') && document.getElementById('is-logged-in').value || false;\nlet current_url = window.location.href;\nlet redirect_to = localStorage.url_before_logging_in;\nif(user_login && redirect_to && !current_url.includes('users') && redirect_to != current_url){\n    localStorage.url_before_logging_in = '';\n    window.location.href = redirect_to;\n}\n\njQuery(document).ready(function ($) {\n\n    $('.flat-slider').bootstrapSlider({\n        min: 0,\n        max: 100,\n        tooltip: 'hide',\n        formatter: function (value) {\n            return;\n        }\n    });\n\n    $('.range-slider').bootstrapSlider({\n        min: 0,\n        max: 100,\n        range: true,\n        values: [40, 60]\n    });\n    // manage all ajax requests\n    $.xhrPool = []; \n    $.ajaxSetup({\n        beforeSend: function(jqXHR) {\n            $.xhrPool.push(jqXHR);\n        },\n        complete: function(jqXHR) {\n            var index = $.xhrPool.indexOf(jqXHR);\n            if (index > -1) {\n                $.xhrPool.splice(index, 1);\n            }\n        }\n    });\n    $.xhrPool.abortAll = function() {\n        $(this).each(function(idx, jqXHR) { \n            jqXHR.abort();\n        });\n        $.xhrPool.length = 0\n    };\n    //Navigation Handlers\n    $('.logout-btn').click(function(e) {\n        e.preventDefault();\n        $.xhrPool.abortAll();\n        $.post('/users/logout', function() {\n            //Reload page to update view\n            document.location.replace('/users/login');\n        });\n    });\n});\n\nfunction attach(path) {\n    return new Promise(function (cb) {\n        var el = document.createElement('script');\n        el.onload = el.onerror = cb;\n        el.src = path;\n        document.getElementsByTagName(\"head\")[0].appendChild(el);\n    });\n};\n\nvar numberFormat = function(num, f=2) {\n    num = Number(num);\n    let _number =  Number.parseFloat(num);\n    if(isNaN(_number)) _number = 0;\n    return _number.toFixed(f);\n}\n\n/*\nGenerate a random hex id\n*/\nfunction createUUID() {\n    // http://www.ietf.org/rfc/rfc4122.txt\n    var s = [];\n    var hexDigits = \"0123456789abcdef\";\n    for (var i = 0; i < 36; i++) {\n        s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\n    }\n    s[14] = \"4\";  // bits 12-15 of the time_hi_and_version field to 0010\n    s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);  // bits 6-7 of the clock_seq_hi_and_reserved to 01\n    s[8] = s[13] = s[18] = s[23] = \"-\";\n\n    var uuid = s.join(\"\");\n    return uuid;\n}"]}