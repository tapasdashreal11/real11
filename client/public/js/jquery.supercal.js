"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t={todayButton:!0,showInput:!0,weekStart:1,widget:!0,cellRatio:1,format:"d/m/y",footer:!0,dayHeader:!0,mode:"widget",animDuration:200,transition:"",tableClasses:"table table-condensed",hidden:!0,setOnMonthChange:!0,condensed:!1},a=new Date,s=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];Date.prototype.daysInMonth=function(e){return e=void 0===e?0:e,new Date(this.getFullYear(),this.getMonth()+1+e,0).getDate()},Date.prototype.isDay=function(e){return void 0===e&&(e=new Date),this.getFullYear()==e.getFullYear()&&this.getMonth()==e.getMonth()&&this.getDate()==e.getDate()},Date.prototype.isValid=function(){return"[object Date]"===Object.prototype.toString.call(this)&&!isNaN(this.getTime())},e.fn.supercal=function(o){var p={drawCalendar:function(t,s){var r=e(this).data("options");t=t||a,void 0!==s&&1==s&&this.empty(),p.drawHeader(t,r).appendTo(this);var n=p.drawMonth(t,r).addClass("current");return e("<div />").addClass("supercal-month").html(n).appendTo(this),p.drawFooter(t,r).appendTo(this),e(this).data("supercal",!0),e(this).data("date",t),e(this).data("element",this),this},drawPopupCalendar:function(t,s){var r=e(this).data("options");t=t||a;var n,o;e(this).parent(".supercal-popup-wrapper").length?(n=e(this).parent(),o=e(this).parent().find(".supercal-popup"),o.empty()):(n=e("<div />").addClass("supercal-popup-wrapper"),o=e("<div />").addClass("supercal supercal-popup").width(e(this).outerWidth(!0)),e(this).wrap(n)),e(this).after(o),r.hidden&&o.hide(),p.drawHeader(t,r).appendTo(o);var i=p.drawMonth(t,r).addClass("current");return e("<div />").addClass("supercal-month").html(i).appendTo(o),o.data("supercal",!0),o.data("date",t),o.data("element",this),o.data("options",r),e(this).parent().wrap(e("<div />").addClass("supercal-affix")),this},drawHeader:function(t,a){var n=e("<div />").addClass("supercal-header"),o=a.shortMonths?r:s;return e("<button />").addClass("prev-month change-month btn").html("&laquo;").appendTo(n),e("<button />").addClass("next-month change-month btn").html("&raquo;").appendTo(n),e("<span />").addClass("month").append("<div>"+o[t.getMonth()]+" "+t.getFullYear()+"</div>").appendTo(n),n},drawMonth:function(t,s){t=t||a;var r=new Date(t.getFullYear(),t.getMonth(),1,0,0,0),o=[],p=[],i=e("<table />").addClass(s.tableClasses),d=r.getDay()-s.weekStart,l=t.daysInMonth(),u=42-d-l,c=t.daysInMonth(-1);if(s.dayHeader){for(var h=e("<tr />"),f=0;f<=6;f++){var m=f+s.weekStart;m>6&&(m=f-6),e("<th />").text(n[m]).appendTo(h)}i.append(h)}for(var f=1;f<=d;f++){var m=c-d+f;o.push({date:new Date(t.getFullYear(),t.getMonth()-1,m,0,0,0),displayNumber:m,classes:"month-prev"})}for(var f=1;f<=l;f++){var m={date:new Date(t.getFullYear(),t.getMonth(),f,0,0,0),displayNumber:f,classes:""};m.classes=m.date.isDay()?"today":"",m.classes+=m.date.isDay(t)?" selected":"",o.push(m)}for(var f=1;f<=u;f++)o.push({date:new Date(t.getFullYear(),t.getMonth()+1,f,0,0,0),displayNumber:f,classes:"month-next"});p=[o.slice(0,7),o.slice(7,14),o.slice(14,21),o.slice(21,28),o.slice(28,35),o.slice(35)];for(var g=0;g<6;g++){for(var y=e("<tr />"),v=0;v<7;v++){var b=p[g][v];e("<td />").data("date",b.date).text(b.displayNumber).addClass(b.classes).appendTo(y)}y.appendTo(i)}return i},drawFooter:function(t,a){var s=e("<div />").addClass("supercal-footer input-prepend");return 0==a.footer&&s.hide(),a.todayButton&&e("<button />").text("Today").addClass("btn supercal-today").attr("type","button").appendTo(s),a.showInput&&e("<span />").text(p.formatDate(t,a)).addClass("supercal-input uneditable-input span2").appendTo(s),e("<input />").prop("type","hidden").val(parseInt(t.getTime()/1e3),10).appendTo(s),s},formatDate:function(e,t){return t.format.replace("d",("0"+e.getDate()).substr(-2)).replace("m",("0"+(e.getMonth()+1)).substr(-2)).replace("y",e.getFullYear().toString().substr(-2)).replace("Y",e.getFullYear())}},i={init:function(s){var r=e.extend({},t,s);return e(document).data("supercal-events")||(e(document).on("click.supercal",".supercal .change-month",function(t){t.preventDefault(),t.stopPropagation(),i.changeMonth.apply(e(this).closest(".supercal"),[e(this).hasClass("next-month")?1:-1,e(this).closest(".supercal").data("options")])}).on("click.supercal",".supercal-today",function(){i.changeMonth.apply(e(this).closest(".supercal"),[a,e(this).closest(".supercal").data("options")])}).on("click.supercal",".supercal table.current td",function(){var t=e(this).closest(".supercal"),a=e(this).closest("table");a.find(".selected").removeClass("selected"),e(this).addClass("selected"),t.find(".supercal-footer").replaceWith(p.drawFooter(e(this).data("date"),e(this).closest(".supercal").data("options"))),t.data("date",e(this).data("date"))}).on("click.supercal",".supercal-popup-trigger",function(t){e(this).parent(".supercal-popup-wrapper").addClass("supercal-open").find(".supercal-popup").show(),e(".supercal-popup-wrapper.supercal-open").not(e(this).parent()).removeClass("supercal-open").find(".supercal-popup").hide()}).on("click.supercal",function(t){var a=e(t.target);a.closest(".supercal-popup-wrapper").length||e(".supercal-popup-wrapper.supercal-open").removeClass("supercal-open").find(".supercal-popup").hide()}).on("click.supercal",".supercal td",function(){var t=e(this).data("date"),a=e(this).closest(".supercal").data("element"),s=p.formatDate(e(this).data("date"),e(this).closest(".supercal").data("options"));e(a).trigger("dateselect",[t]),e(a).children(".supercal-popup-trigger").val(s).trigger("change")}),e(document).data("supercal-events",!0)),this.each(function(){if(e(this).is(":input")){var t=e("<div />");e(this).addClass("supercal-target").after(t)}else var t=this;switch(e(t).addClass("supercal "+r.transition),e(t).data("options",r),r.transition&&e(t).addClass("transition"),r.condensed&&e(t).addClass("condensed"),r.mode){case"popup":e(t).addClass("supercal-popup-trigger"),p.drawPopupCalendar.apply(t,r.date);break;case"widget":default:p.drawCalendar.call(t,r.date)}})},changeMonth:function(t,s){var r,n,o,i,d=e(this),l=e(this).find("table"),u=d.data("date"),c=l.outerWidth(!0),h=l.outerHeight(!0);switch(l.parent().height(h),"number"==typeof t?(o=t>0?1:-1,r=Math.min(u.daysInMonth(t),u.getDate()),n=new Date(u.getFullYear(),u.getMonth()+o,r)):t instanceof Date&&(o=t>u?1:-1,n=a),l.stop(!0,!0),d.data("date",n),i=p.drawMonth(n,s).addClass("current"),s.transition){case"fade":l.fadeOut(s.animDuration,function(){e(this).replaceWith(i.hide().fadeIn(s.animDuration))});break;case"crossfade":l.removeClass("current").after(i),l.animate({opacity:0},s.animDuration),i.css({opacity:0,position:"absolute",top:0}).animate({opacity:1},s.animDuration);break;case"carousel-horizontal":l.css({position:"absolute"}).animate({left:-(c*o)}).after(i),i.css({left:o*c,position:"absolute"}).animate({left:0});break;case"carousel-vertical":l.css({position:"absolute"}).animate({top:-(h*o)}).after(i),i.css({top:o*h,position:"absolute"}).animate({top:0});break;default:l.replaceWith(i)}i.promise().done(function(){d.find("table").not(i).remove()}),d.find(".supercal-header").replaceWith(p.drawHeader(n,s)),d.find(".supercal-footer").replaceWith(p.drawFooter(n,s)),s.setOnMonthChange&&d.prev(".supercal-target").val(e(this).data("date")).trigger("change")},date:function(){return e(this).next(".supercal").length?e(this).next(".supercal").data("date"):!!e(this).data("supercal")&&e(this).data("date")}};return i[o]?i[o].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==("undefined"==typeof o?"undefined":_typeof(o))&&o?void 0:i.init.apply(this,arguments)}});
//# sourceMappingURL=jquery.supercal.js.map
