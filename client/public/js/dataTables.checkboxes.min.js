"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};/*! Checkboxes 1.2.10
 *  Copyright (c) Gyrocode (www.gyrocode.com)
 *  License: MIT License
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return e(t,window,document)}):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=function(t,c){return t||(t=window),c&&c.fn.dataTable||(c=require("datatables.net")(t,c).$),e(c,t,t.document)}:e(jQuery,window,document)}(function(e,t,c){var o=e.fn.dataTable,s=function(e){if(!o.versionCheck||!o.versionCheck("1.10.8"))throw"DataTables Checkboxes requires DataTables 1.10.8 or newer";this.s={dt:new o.Api(e),columns:[],data:[],dataDisabled:[],ignoreSelect:!1},this.s.ctx=this.s.dt.settings()[0],this.s.ctx.checkboxes||(e.checkboxes=this,this._constructor())};s.prototype={_constructor:function(){for(var t=this,l=t.s.dt,a=t.s.ctx,n=!1,d=!1,i=l.state.loaded(),u=0;u<a.aoColumns.length;u++)if(a.aoColumns[u].checkboxes){var h=e(l.column(u).header());n=!0,e.isPlainObject(a.aoColumns[u].checkboxes)||(a.aoColumns[u].checkboxes={}),a.aoColumns[u].checkboxes=e.extend({},s.defaults,a.aoColumns[u].checkboxes);var r={searchable:!1,orderable:!1};if(""===a.aoColumns[u].sClass?r.className="dt-checkboxes-cell":r.className=a.aoColumns[u].sClass+" dt-checkboxes-cell",null===a.aoColumns[u].sWidthOrig&&(r.width="1%"),null===a.aoColumns[u].mRender&&(r.render=function(){return'<input type="checkbox" class="dt-checkboxes">'}),o.ext.internal._fnColumnOptions(a,u,r),h.removeClass("sorting"),h.off(".dt"),null===a.sAjaxSource){var b=l.cells("tr",u);b.invalidate("data"),e(b.nodes()).addClass(r.className)}if(t.s.data[u]={},t.s.dataDisabled[u]={},i&&i.checkboxes&&i.checkboxes.hasOwnProperty(u)&&a.aoColumns[u].checkboxes.stateSave&&(t.s.data[u]=i.checkboxes[u]),t.s.columns.push(u),a.aoColumns[u].checkboxes.selectRow&&(a._select?d=!0:a.aoColumns[u].checkboxes.selectRow=!1),a.aoColumns[u].checkboxes.selectAll&&(h.data("html",h.html()),null!==a.aoColumns[u].checkboxes.selectAllRender)){var x="";e.isFunction(a.aoColumns[u].checkboxes.selectAllRender)?x=a.aoColumns[u].checkboxes.selectAllRender():"string"==typeof a.aoColumns[u].checkboxes.selectAllRender&&(x=a.aoColumns[u].checkboxes.selectAllRender),h.html(x).addClass("dt-checkboxes-select-all").attr("data-col",u)}}if(n){var k=e(l.table().node()),f=e(l.table().body()),p=e(l.table().container());d&&(k.addClass("dt-checkboxes-select"),k.on("user-select.dt.dtCheckboxes",function(e,c,o,s){var l=s.index(),a=l.row,n=t.getSelectRowColIndex(),d=c.cell({row:a,column:n}).data();t.isCellSelectable(n,d)||e.preventDefault()}),k.on("select.dt.dtCheckboxes deselect.dt.dtCheckboxes",function(e,c,o,s){t.onSelect(e,o,s)}),l.select.info(!1),k.on("draw.dt.dtCheckboxes select.dt.dtCheckboxes deselect.dt.dtCheckboxes",function(){t.showInfoSelected()})),k.on("draw.dt.dtCheckboxes",function(e){t.onDraw(e)}),f.on("click.dtCheckboxes","input.dt-checkboxes",function(e){t.onClick(e,this)}),p.on("click.dtCheckboxes",'thead th.dt-checkboxes-select-all input[type="checkbox"]',function(e){t.onClickSelectAll(e,this)}),p.on("click.dtCheckboxes","thead th.dt-checkboxes-select-all",function(){e('input[type="checkbox"]',this).not(":disabled").trigger("click")}),d||p.on("click.dtCheckboxes","tbody td.dt-checkboxes-cell",function(){e('input[type="checkbox"]',this).not(":disabled").trigger("click")}),p.on("click.dtCheckboxes","thead th.dt-checkboxes-select-all label, tbody td.dt-checkboxes-cell label",function(e){e.preventDefault()}),e(c).on("click.dtCheckboxes",'.fixedHeader-floating thead th.dt-checkboxes-select-all input[type="checkbox"]',function(e){a._fixedHeader&&a._fixedHeader.dom.header.floating&&t.onClickSelectAll(e,this)}),e(c).on("click.dtCheckboxes",".fixedHeader-floating thead th.dt-checkboxes-select-all",function(){a._fixedHeader&&a._fixedHeader.dom.header.floating&&e('input[type="checkbox"]',this).trigger("click")}),k.on("init.dt.dtCheckboxes",function(){a.oFeatures.bServerSide||(a.oFeatures.bStateSave&&t.updateState(),k.on("xhr.dt.dtCheckboxes",function(){if(e.each(t.s.columns,function(e,c){t.s.data[c]={},t.s.dataDisabled[c]={}}),a.oFeatures.bStateSave){var c=l.state.loaded();e.each(t.s.columns,function(e,o){c&&c.checkboxes&&c.checkboxes.hasOwnProperty(o)&&a.aoColumns[o].checkboxes.stateSave&&(t.s.data[o]=c.checkboxes[o])}),k.one("draw.dt.dtCheckboxes",function(){t.updateState()})}})),a.oFeatures.bStateSave&&k.on("stateSaveParams.dt.dtCheckboxes",function(c,o,s){s.checkboxes=[],e.each(t.s.columns,function(e,c){a.aoColumns[c].checkboxes.stateSave&&(s.checkboxes[c]=t.s.data[c])})})}),k.one("destroy.dt.dtCheckboxes",function(){e(c).off("click.dtCheckboxes"),p.on(".dtCheckboxes"),f.off(".dtCheckboxes"),k.off(".dtCheckboxes"),t.s.data={},t.s.dataDisabled={},e(".dt-checkboxes-select-all",k).each(function(t,c){e(c).html(e(c).data("html")).removeClass("dt-checkboxes-select-all")})})}},updateData:function(e,t,c){var o=this,s=o.s.dt,l=o.s.ctx;if(l.aoColumns[t].checkboxes){var a=e.data();a.each(function(e){c?l.checkboxes.s.data[t][e]=1:delete l.checkboxes.s.data[t][e]}),l.oFeatures.bStateSave&&l.aoColumns[t].checkboxes.stateSave&&s.state.save()}},updateSelect:function(e,t){var c=this,o=c.s.dt,s=c.s.ctx;s._select&&(c.s.ignoreSelect=!0,t?o.rows(e).select():o.rows(e).deselect(),c.s.ignoreSelect=!1)},updateCheckbox:function(t,c,o){var s=this,l=s.s.ctx,a=t.nodes();a.length&&(e("input.dt-checkboxes",a).not(":disabled").prop("checked",o),e.isFunction(l.aoColumns[c].checkboxes.selectCallback)&&l.aoColumns[c].checkboxes.selectCallback(a,o))},updateState:function(){var t=this;t.updateStateCheckboxes({page:"all",search:"none"}),e.each(t.s.columns,function(e,c){t.updateSelectAll(c)})},updateStateCheckboxes:function(t){var c=this,o=c.s.dt,s=c.s.ctx;o.cells("tr",c.s.columns,t).every(function(t,o){var l=this.data(),a=c.isCellSelectable(o,l);s.checkboxes.s.data[o].hasOwnProperty(l)&&(c.updateCheckbox(this,o,!0),s.aoColumns[o].checkboxes.selectRow&&a&&c.updateSelect(t,!0)),a||e("input.dt-checkboxes",this.node()).prop("disabled",!0)})},onClick:function(t,c){var o,s=this,l=s.s.dt,a=s.s.ctx,n=e(c).closest("td");o=n.parents(".DTFC_Cloned").length?l.fixedColumns().cellIndex(n):n;var d=l.cell(o),i=d.index(),u=i.column;a.aoColumns[u].checkboxes.selectRow?setTimeout(function(){var e=d.data(),t=s.s.data[u].hasOwnProperty(e);t!==c.checked&&(s.updateCheckbox(d,u,t),s.updateSelectAll(u))},0):(d.checkboxes.select(c.checked),t.stopPropagation())},onSelect:function(e,t,c){var o=this,s=o.s.dt;if(!o.s.ignoreSelect&&"row"===t){var l=o.getSelectRowColIndex();if(null!==l){var a=s.cells(c,l);o.updateData(a,l,"select"===e.type),o.updateCheckbox(a,l,"select"===e.type),o.updateSelectAll(l)}}},onClickSelectAll:function(t,c){var o=this,s=o.s.dt,l=o.s.ctx,a=null,n=e(c).closest("th");if(n.parents(".DTFC_Cloned").length){var d=s.fixedColumns().cellIndex(n);a=d.column}else a=s.column(n).index();e(c).data("is-changed",!0),s.column(a,{page:l.aoColumns[a].checkboxes&&l.aoColumns[a].checkboxes.selectAllPages?"all":"current",search:"applied"}).checkboxes.select(c.checked),t.stopPropagation()},onDraw:function(){var t=this,c=t.s.ctx;(c.oFeatures.bServerSide||c.oFeatures.bDeferRender)&&t.updateStateCheckboxes({page:"current",search:"none"}),e.each(t.s.columns,function(e,c){t.updateSelectAll(c)})},updateSelectAll:function(t){var c=this,o=c.s.dt,s=c.s.ctx;if(s.aoColumns[t].checkboxes&&s.aoColumns[t].checkboxes.selectAll){var l=o.cells("tr",t,{page:s.aoColumns[t].checkboxes.selectAllPages?"all":"current",search:"applied"}),a=o.table().container(),n=e('.dt-checkboxes-select-all[data-col="'+t+'"] input[type="checkbox"]',a),d=0,i=0,u=l.data();e.each(u,function(e,o){c.isCellSelectable(t,o)?c.s.data[t].hasOwnProperty(o)&&d++:i++}),s._fixedHeader&&s._fixedHeader.dom.header.floating&&(n=e('.fixedHeader-floating .dt-checkboxes-select-all[data-col="'+t+'"] input[type="checkbox"]'));var h,r;0===d?(h=!1,r=!1):d+i===u.length?(h=!0,r=!1):(h=!0,r=!0);var b=n.data("is-changed"),x=n.prop("checked"),k=n.prop("indeterminate");(b||x!==h||k!==r)&&(n.data("is-changed",!1),n.prop({checked:h,indeterminate:r}),e.isFunction(s.aoColumns[t].checkboxes.selectAllCallback)&&s.aoColumns[t].checkboxes.selectAllCallback(n.closest("th").get(0),h,r))}},showInfoSelected:function(){var t=this,c=t.s.dt,o=t.s.ctx;if(o.aanFeatures.i){var s=e('<span class="select-info"/>'),l=function(t,o){s.append(e('<span class="select-item"/>').append(c.i18n("select."+t+"s",{_:"%d "+t+"s selected",0:"",1:"1 "+t+" selected"},o)))},a=t.getSelectRowColIndex();if(null!==a){var n=0;for(var d in o.checkboxes.s.data[a])o.checkboxes.s.data[a].hasOwnProperty(d)&&n++;l("row",n),e.each(o.aanFeatures.i,function(t,c){var o=e(c),l=o.children("span.select-info");l.length&&l.remove(),""!==s.text()&&o.append(s)})}}},isCellSelectable:function(e,t){var c=this,o=c.s.ctx;return!o.checkboxes.s.dataDisabled[e].hasOwnProperty(t)},getCellIndex:function(e){var t=this,c=t.s.dt,o=t.s.ctx;return o._oFixedColumns?c.fixedColumns().cellIndex(e):c.cell(e).index()},getSelectRowColIndex:function(){for(var e=this,t=e.s.ctx,c=null,o=0;o<t.aoColumns.length;o++)if(t.aoColumns[o].checkboxes&&t.aoColumns[o].checkboxes.selectRow){c=o;break}return c},updateFixedColumn:function(e){var t=this,c=t.s.dt,o=t.s.ctx;if(o._oFixedColumns){var s=o._oFixedColumns.s.iLeftColumns,l=o.aoColumns.length-o._oFixedColumns.s.iRightColumns-1;(e<s||e>l)&&c.fixedColumns().update()}}},s.defaults={stateSave:!0,selectRow:!1,selectAll:!0,selectAllPages:!0,selectCallback:null,selectAllCallback:null,selectAllRender:'<input type="checkbox">'};var l=e.fn.dataTable.Api;return l.register("checkboxes()",function(){return this}),l.registerPlural("columns().checkboxes.select()","column().checkboxes.select()",function(t){return"undefined"==typeof t&&(t=!0),this.iterator("column-rows",function(c,o,s,l,a){if(c.aoColumns[o].checkboxes){var n=[];e.each(a,function(e,t){n.push({row:t,column:o})});var d=this.cells(n),i=d.data(),u=[];n=[],e.each(i,function(e,t){c.checkboxes.isCellSelectable(o,t)&&(n.push({row:a[e],column:o}),u.push(a[e]))}),d=this.cells(n),c.checkboxes.updateData(d,o,t),c.checkboxes.updateCheckbox(d,o,t),c.aoColumns[o].checkboxes.selectRow&&c.checkboxes.updateSelect(u,t),c._oFixedColumns?setTimeout(function(){c.checkboxes.updateSelectAll(o)},0):c.checkboxes.updateSelectAll(o),c.checkboxes.updateFixedColumn(o)}},1)}),l.registerPlural("cells().checkboxes.select()","cell().checkboxes.select()",function(e){return"undefined"==typeof e&&(e=!0),this.iterator("cell",function(t,c,o){if(t.aoColumns[o].checkboxes){var s=this.cells([{row:c,column:o}]),l=this.cell({row:c,column:o}).data();t.checkboxes.isCellSelectable(o,l)&&(t.checkboxes.updateData(s,o,e),t.checkboxes.updateCheckbox(s,o,e),t.aoColumns[o].checkboxes.selectRow&&t.checkboxes.updateSelect(c,e),t._oFixedColumns?setTimeout(function(){t.checkboxes.updateSelectAll(o)},0):t.checkboxes.updateSelectAll(o),t.checkboxes.updateFixedColumn(o))}},1)}),l.registerPlural("cells().checkboxes.enable()","cell().checkboxes.enable()",function(t){return"undefined"==typeof t&&(t=!0),this.iterator("cell",function(c,o,s){if(c.aoColumns[s].checkboxes){var l=this.cell({row:o,column:s}),a=l.data();t?delete c.checkboxes.s.dataDisabled[s][a]:c.checkboxes.s.dataDisabled[s][a]=1;var n=l.node();n&&e("input.dt-checkboxes",n).prop("disabled",!t),c.aoColumns[s].checkboxes.selectRow&&c.checkboxes.s.data[s].hasOwnProperty(a)&&c.checkboxes.updateSelect(o,t)}},1)}),l.registerPlural("cells().checkboxes.disable()","cell().checkboxes.disable()",function(e){return"undefined"==typeof e&&(e=!0),this.checkboxes.enable(!e)}),l.registerPlural("columns().checkboxes.deselect()","column().checkboxes.deselect()",function(e){return"undefined"==typeof e&&(e=!0),this.checkboxes.select(!e)}),l.registerPlural("cells().checkboxes.deselect()","cell().checkboxes.deselect()",function(e){return"undefined"==typeof e&&(e=!0),this.checkboxes.select(!e)}),l.registerPlural("columns().checkboxes.deselectAll()","column().checkboxes.deselectAll()",function(){return this.iterator("column",function(e,t){e.aoColumns[t].checkboxes&&(e.checkboxes.s.data[t]={},this.column(t).checkboxes.select(!1))},1)}),l.registerPlural("columns().checkboxes.selected()","column().checkboxes.selected()",function(){return this.iterator("column-rows",function(t,c,o,s,l){if(t.aoColumns[c].checkboxes){var a=[];e.each(l,function(e,t){a.push({row:t,column:c})});var n=this.cells(a),d=n.data(),i=[];return e.each(d,function(e,o){t.checkboxes.s.data[c].hasOwnProperty(o)&&t.checkboxes.isCellSelectable(c,o)&&i.push(o)}),i}return[]},1)}),s.version="1.2.10",e.fn.DataTable.Checkboxes=s,e.fn.dataTable.Checkboxes=s,e(c).on("preInit.dt.dtCheckboxes",function(e,t){"dt"===e.namespace&&new s(t)}),s});
//# sourceMappingURL=dataTables.checkboxes.min.js.map
